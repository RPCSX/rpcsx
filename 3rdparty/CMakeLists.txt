add_subdirectory(crypto)

if(NOT xbyak_FOUND)
    add_subdirectory(xbyak)
endif()

if(NOT SPIRV-Headers_FOUND)
    add_subdirectory(SPIRV-Headers)
endif()

if(NOT SPIRV-Tools-opt_FOUND)
    add_subdirectory(SPIRV-Tools)
endif()

if(NOT SPIRV-Cross_FOUND)
    set(SPIRV_CROSS_SHARED on)
    set(SPIRV_CROSS_STATIC on)
    set(SPIRV_CROSS_ENABLE_GLSL on)
    set(SPIRV_CROSS_ENABLE_HLSL off)
    set(SPIRV_CROSS_ENABLE_MSL off)
    set(SPIRV_CROSS_ENABLE_CPP off)
    set(SPIRV_CROSS_ENABLE_REFLECT off)
    set(SPIRV_CROSS_ENABLE_C_API off)
    set(SPIRV_CROSS_ENABLE_UTIL off)
    set(SPIRV_CROSS_CLI off)
    set(SPIRV_CROSS_ENABLE_TESTS off)
    set(SPIRV_CROSS_SKIP_INSTALL on)
    add_subdirectory(SPIRV-Cross)
endif()

if(NOT glslang_FOUND)
    add_subdirectory(glslang)
    if(NOT TARGET glslang::glslang-standalone)
        add_executable(glslang::glslang-standalone ALIAS glslang-standalone)
    endif()
endif()

if(NOT nlohmann_json_FOUND)
    add_subdirectory(json)
endif()
